
if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!=-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1);DayPilot.mo3=function($a,ev,$b){ev=ev||window.event;if(typeof(ev.pageX)!=='undefined'){var $c=DayPilot.abs($a,$b);var $d={x:ev.pageX-$c.x,y:ev.pageY-$c.y};return $d;};return null;};DayPilot.abs=function(element,$b){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(element.offsetParent){element=element.offsetParent;if($b){r.x-=element.scrollLeft;r.y-=element.scrollTop;};if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $e=document.documentElement.body?document.documentElement.body:document.body;r.x+=$e.scrollLeft;r.y+=$e.scrollTop;return r;};DayPilot.indexOf=function($f,$g){if(!$f||!$f.length){return -1;};for(var i=0;i<$f.length;i++){if($f[i]===$g){return i;}};return -1;};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.re=function(el,ev,$h){if(el.addEventListener){el.addEventListener(ev,$h,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$h);}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $i=DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth-2;};DayPilot.Selection=function($j,end,$k,$l){this.type='selection';this.start=$j.isDayPilotDate?$j:new DayPilot.Date($j);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$k;this.root=$l;this.toJSON=function($m){var $n={};$n.start=this.start;$n.end=this.end;$n.resource=this.resource;return $n;};};DayPilot.request=function($o,$p,$q,$r){var $s=DayPilot.createXmlHttp();if(!$s){return;};$s.open("POST",$o,true);$s.setRequestHeader('Content-type','application/x-www-form-urlencoded');$s.onreadystatechange=function(){if($s.readyState!=4)return;if($s.status!=200&&$s.status!=304){if($r){$r($s);}else{alert('HTTP error '+$s.status);};return;};$p($s);};if($s.readyState==4){return;};$s.send($q);};DayPilot.createXmlHttp=function(){var $t;try{$t=new XMLHttpRequest();}catch(e){try{$t=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $t;};DayPilot.Date=function($u,$v){this.isDayPilotDate=true;if(typeof $u==='undefined'){this.d=DayPilot.Date.fromLocal();}else if(typeof $u==="string"){return DayPilot.Date.fromStringSortable($u);}else if($u.isDayPilotDate){return $u;}else if(!$u.getFullYear){throw "date parameter is not a Date object: "+$u;}else if($v){this.d=DayPilot.Date.fromLocal($u);}else{this.d=$u;};this.ticks=this.d.getTime();};DayPilot.Date.prototype.addDays=function($w){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$w));};DayPilot.Date.prototype.addHours=function($x){return this.addTime($x*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($y){return this.addTime($y);};DayPilot.Date.prototype.addMinutes=function($z){return this.addTime($z*60*1000);};DayPilot.Date.prototype.addMonths=function($A){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$A));};DayPilot.Date.prototype.addSeconds=function($B){return this.addTime($B*1000);};DayPilot.Date.prototype.addTime=function($C){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$C));};DayPilot.Date.prototype.addYears=function($D){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$D);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($E){if($E===null){return false;};if($E.isDayPilotDate){return DayPilot.Date.equals(this.d,$E.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $F=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($F);};DayPilot.Date.prototype.firstDayOfYear=function(){var $G=this.getYear();var d=new Date();d.setUTCFullYear($G,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($H){var $F=DayPilot.Date.firstDayOfWeek(this.d,$H);return new DayPilot.Date($F);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){if(typeof this.ticks!=='number'){throw "Uninitialized DayPilot.Date (internal error)";};return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $F=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($F);};DayPilot.Date.prototype.weekNumber=function(){var $I=this.firstDayOfYear();var $w=(this.getTime()-$I.getTime())/86400000;return Math.ceil(($w+$I.dayOfWeek()+1)/7);};DayPilot.Date.prototype.weekNumberISO=function(){var $J=false;var $K=this.dayOfYear();var $L=this.firstDayOfYear().dayOfWeek();var $M=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($L==0){$L=7;};if($M==0){$M=7;};var $N=8-($L);if($L==4||$M==4){$J=true;};var $O=Math.ceil(($K-($N))/7.0);var $P=$O;if($N>=4){$P=$P+1;};if($P>52&&!$J){$P=1;};if($P==0){$P=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $P;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function(){return this.toStringSortable();};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.fromStringSortable=function($Q){var $R=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/;var $u=/^(\d{4})-(\d{2})-(\d{2})$/;var $S=$R.test($Q);var $T=$u.test($Q);var $U=$S||$T;if(!$U){throw "Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'.";};var $V=$S?$R:$u;var m=$V.exec($Q);var d=new Date();d.setUTCFullYear(m[1],m[2]-1,m[3]);d.setUTCHours(m[4]?m[4]:0);d.setUTCMinutes(m[5]?m[5]:0);d.setUTCSeconds(m[6]?m[6]:0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.addDays=function($u,$w){var d=new Date();d.setTime($u.getTime()+$w*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($u,$z){var d=new Date();d.setTime($u.getTime()+$z*60*1000);return d;};DayPilot.Date.addMonths=function($u,$A){if($A==0)return $u;var y=$u.getUTCFullYear();var m=$u.getUTCMonth()+1;if($A>0){while($A>=12){$A-=12;y++;};if($A>12-m){y++;m=$A-(12-m);}else{m+=$A;}}else{while($A<=-12){$A+=12;y--;};if(m<=$A){y--;m=12-($A+m);}else{m=m+$A;}};var d=DayPilot.Date.clone($u);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($u,$W){var d=new Date();d.setTime($u.getTime()+$W);return d;};DayPilot.Date.clone=function($X){var d=new Date();return DayPilot.Date.dateFromTicks($X.getTime());};DayPilot.Date.daysDiff=function($I,$Y){if($I.getTime()>$Y.getTime()){return null;};var i=0;var $Z=DayPilot.Date.getDate($I);var $00=DayPilot.Date.getDate($Y);while($Z<$00){$Z=DayPilot.Date.addDays($Z,1);i++;};return i;};DayPilot.Date.daysInMonth=function($G,$01){if($G.getUTCFullYear){$01=$G.getUTCMonth()+1;$G=$G.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($01!=2)return m[$01-1];if($G%4!=0)return m[1];if($G%100==0&&$G%400!=0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($I,$Y){if($I.getTime()==$Y.getTime()){return 0;};var $02=DayPilot.Date.daysDiff($I,$Y);if(DayPilot.Date.equals($Y,DayPilot.Date.getDate($Y))){$02--;};return $02;};DayPilot.Date.diff=function($I,$Y){if(!($I&&$Y&&$I.getTime&&$Y.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $I.getTime()-$Y.getTime();};DayPilot.Date.equals=function($I,$Y){return $I.getTime()==$Y.getTime();};DayPilot.Date.fromLocal=function($03){if(!$03){$03=new Date();};var d=new Date();d.setUTCFullYear($03.getFullYear(),$03.getMonth(),$03.getDate());d.setUTCHours($03.getHours());d.setUTCMinutes($03.getMinutes());d.setUTCSeconds($03.getSeconds());d.setUTCMilliseconds($03.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($G,$01){var d=new Date();d.setUTCFullYear($G,$01-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$H){var $04=d.getUTCDay();while($04!=$H){d=DayPilot.Date.addDays(d,-1);$04=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($C){var d=new Date();d.setTime($C);return d;};DayPilot.Date.getDate=function($X){var d=DayPilot.Date.clone($X);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($G,$01,$H){var $05=DayPilot.Date.firstDayOfMonth($G,$01);d=DayPilot.Date.firstDayOfWeek($05,$H);return d;};DayPilot.Date.getTime=function($X){var $u=DayPilot.Date.getDate($X);return DayPilot.Date.diff($X,$u);};DayPilot.Date.hours=function($u,$06){var $07=$u.getUTCMinutes();if($07<10)$07="0"+$07;var $08=$u.getUTCHours();if($06){var am=$08<12;var $08=$08%12;if($08==0){$08=12;};var $09=am?"AM":"PM";return $08+':'+$07+' '+$09;}else{return $08+':'+$07;}};DayPilot.Date.lastDayOfMonth=function($G,$01){var d=DayPilot.Date.firstDayOfMonth($G,$01);var length=DayPilot.Date.daysInMonth($G,$01);d.setUTCDate(length);return d;};DayPilot.Date.max=function($I,$Y){if($I.getTime()>$Y.getTime()){return $I;}else{return $Y;}};DayPilot.Date.min=function($I,$Y){if($I.getTime()<$Y.getTime()){return $I;}else{return $Y;}};DayPilot.Date.today=function(){var $0a=new Date();var d=new Date();d.setUTCFullYear($0a.getFullYear());d.setUTCMonth($0a.getMonth());d.setUTCDate($0a.getDate());return d;};DayPilot.Date.toLocal=function($u){if(!$u){$u=new Date();};var d=new Date();d.setFullYear($u.getUTCFullYear(),$u.getUTCMonth(),$u.getUTCDate());d.setHours($u.getUTCHours());d.setMinutes($u.getUTCMinutes());d.setSeconds($u.getUTCSeconds());d.setMilliseconds($u.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($u){if($u.isDayPilotDate){return $u.toStringSortable();};var d=$u;var $Y=d.getUTCSeconds();if($Y<10)$Y="0"+$Y;var $07=d.getUTCMinutes();if($07<10)$07="0"+$07;var $08=d.getUTCHours();if($08<10)$08="0"+$08;var $04=d.getUTCDate();if($04<10)$04="0"+$04;var $01=d.getUTCMonth()+1;if($01<10)$01="0"+$01;var $G=d.getUTCFullYear();if($G<=0){throw "The minimum year supported is 1.";};if($G<10){$G="000"+$G;}else if($G<100){$G="00"+$G;}else if($G<1000){$G="0"+$G;};return $G+"-"+$01+"-"+$04+'T'+$08+":"+$07+":"+$Y;};})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($m){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($m){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$0c,$0d,$0e={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$0f;function quote($Q){$0b.lastIndex=0;return $0b.test($Q)?'"'+$Q.replace($0b,function(a){var c=$0e[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$Q+'"';};function str($m,$0g){var i,k,v,length,$0h=$0c,$0i,$0j=$0g[$m];if($0j&&typeof $0j==='object'&&typeof $0j.toJSON2==='function'){$0j=$0j.toJSON2($m);}else if($0j&&typeof $0j==='object'&&typeof $0j.toJSON==='function'&&!$0j.ignoreToJSON){$0j=$0j.toJSON($m);};if(typeof $0f==='function'){$0j=$0f.call($0g,$m,$0j);};switch(typeof $0j){case 'string':return quote($0j);case 'number':return isFinite($0j)?String($0j):'null';case 'boolean':case 'null':return String($0j);case 'object':if(!$0j){return 'null';};$0c+=$0d;$0i=[];if(typeof $0j.length==='number'&&!$0j.propertyIsEnumerable('length')){length=$0j.length;for(i=0;i<length;i+=1){$0i[i]=str(i,$0j)||'null';};v=$0i.length===0?'[]':$0c?'[\n'+$0c+$0i.join(',\n'+$0c)+'\n'+$0h+']':'['+$0i.join(',')+']';$0c=$0h;return v;};if($0f&&typeof $0f==='object'){length=$0f.length;for(i=0;i<length;i+=1){k=$0f[i];if(typeof k==='string'){v=str(k,$0j);if(v){$0i.push(quote(k)+($0c?': ':':')+v);}}}}else{for(k in $0j){if(Object.hasOwnProperty.call($0j,k)){v=str(k,$0j);if(v){$0i.push(quote(k)+($0c?': ':':')+v);}}}};v=($0i.length===0)?'{\u007D':$0c?'{\n'+$0c+$0i.join(',\n'+$0c)+'\n'+$0h+'\u007D':'{'+$0i.join(',')+'\u007D';$0c=$0h;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($0j,$0k,$0l){var i;$0c='';$0d='';if(typeof $0l==='number'){for(i=0;i<$0l;i+=1){$0d+=' ';}}else if(typeof $0l==='string'){$0d=$0l;};$0f=$0k;if($0k&&typeof $0k!=='function'&&(typeof $0k!=='object'||typeof $0k.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$0j});};}})();


